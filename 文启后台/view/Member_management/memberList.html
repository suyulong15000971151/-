<!DOCTYPE html>
<html>

	<head>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>未认证会员</title>

		<link href="../../css/bootstrap.min.css" rel="stylesheet">

		<link href="../../font-awesome/css/font-awesome.css" rel="stylesheet">
		<link href="../../css/plugins/jQueryUI/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">

		<link rel="stylesheet" href="../../css/girds.css" />
		<link rel="stylesheet" href="../../css/iconfont.css" />
		<link rel="stylesheet" href="../../css/animate.css" />
		<link href="../../css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
		<link rel="stylesheet" href="../../css/chosen.css" />
		<link rel="stylesheet" href="../../css/common.css" />
		<link rel="stylesheet" href="../../css/coss.css" />
		<link href="../../css/style.css" rel="stylesheet">
		<link rel="stylesheet" href="../../css/memberList.css" />

		<link rel="stylesheet" href="../../css/crepsd.css" />
		<link rel="stylesheet" type="text/css" href="../../css/message.css" />
		<link rel="stylesheet" type="text/css" href="../../css/bing_google.css" />
	</head>
	<body>

		<!--这里是提示确认改变会员状态-->
		<div id="sitch" class="animated dio-close">
			<div class="sitch-box">
				<div class="content animated">
					<div class="title">
						<span>提示</span>
						<a href="#" class="close" style="font-size: 30px;line-height: 30px;margin-right:10px">&times;</a>
					</div>
					<div class="contain">
						<div class="tip-con">
							确定<span id="changeMemeberStatus"></span>此会员吗？
						</div>
						<div class="set">
							<button class="btn btn-default can-close">取消</button>
							<button class="btn btn-success cof-close" onclick="setMemberStatus();">确认</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--会员信息-->
		<div id="fictitious" class="animated dio-close">
			<div class="fictitious-box">
				<div class="content animated" style="overflow: hidden;">
					<div class="title">
						<span>会员信息</span>
						<a href="#" class="close " id="sureBtn" style="font-size: 30px;line-height: 30px;margin-right:10px">&times;</a>
					</div>
					<div class="contain">
						<div class="row" style="height:470px;overflow-x: scroll;">
							
							<div class="item">
								<label for="">昵称：</label><span id="nicknameText"></span>
							</div>
							<div class="item">
								<label for="">姓名：</label><span id="nameText"></span>
							</div>
							<div class="item">
								<label for="">头像：</label><img id="img_4" src="" />
							</div>
							<div class="item">
								<label for="">手机号：</label><span id="phoneText"></span>
							</div>
							<div class="item">
								<label for="">会员等级：</label><span id="membershipLevelText"></span>
							</div>
							<div class="item">
								<label for="">身份证号：</label><span id="idCardText"></span>
							</div>
							<div class="item">
								<label for="">身份证正面：</label><img id="img_1" src="" />
							</div>
							<div class="item">
								<label for="">身份证反面：</label><img id="img_2" src=""/>
							</div>
								<div class="item">
								<label for="">手持身份证：</label><img id="img_3" src=""/>
							</div>
							<div class="item">
								<label for="">是否为代理：</label><span id="agentStatusText"></span>
							</div>
							<div class="item">
								<label for="">实名认证状态：</label><span id="realNameStatusText"></span>
							</div>
							<div class="item">
								<label for="">谷歌认证状态：</label><span id="googleStatusText"></span>
							</div>
							<div class="item">
								<label for="">绑定银行卡状态：</label><span id="bindBankCardStatusText"></span>
							</div>
							<div class="item">
								<label for="">会员状态：</label><span id="memberStatusText"></span>
							</div>
							<div class="item">
								<label for="">充币状态：</label><span id="rechargeStatusText"></span>
							</div>
							<div class="item">
								<label for="">提币状态：</label><span id="withdrawStatusText"></span>
							</div>
							<div class="item">
								<label for="">是否绑定资金密码：</label><span id="fundsStatusText"></span>
							</div>
							<div class="item">
								<label for="">邮箱：</label><span id="mailboxText"></span>
							</div>
							<div class="item">
								<label for="">创建时间：</label><span id="createTimeText"></span>
							</div>
							<div class="item">
								<label for="">更新时间：</label><span id="updateTimeText"></span>
							</div>
						</div>
					</div>
					<!--<div class="bto">
						<button class="btn btn-default can-close">取消</button>
						<button class="btn btn-success cof-close" id="sureBtn">确认</button>
					</div>-->
				</div>
			</div>
		</div>

<!--这里是提示确认改变充币状态-->
		<div id="sitchs" class="animated dio-close">
			<div class="sitch-box">
				<div class="content animated">
					<div class="title">
						<span>提示</span>
						<a href="#" class="close" style="font-size: 30px;line-height: 30px;margin-right:10px">&times;</a>
					</div>
					<div class="contain">
						<div class="tip-con">
							确定<span id="changeRechargeStatus"></span>充币吗？
						</div>
						<div class="set">
							<button class="btn btn-default can-close">取消</button>
							<button class="btn btn-success cof-close" onclick="setReChargeStatus();">确认</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--这里是提示确认改变提币状态-->
		<div id="sitchss" class="animated dio-close">
			<div class="sitch-box">
				<div class="content animated">
					<div class="title">
						<span>提示</span>
						<a href="#" class="close" style="font-size: 30px;line-height: 30px;margin-right:10px">&times;</a>
					</div>
					<div class="contain">
						<div class="tip-con">
							确定<span id="changeExtractStatus"></span>提币吗？
						</div>
						<div class="set">
							<button class="btn btn-default can-close">取消</button>
							<button class="btn btn-success cof-close" onclick="setReExtractStatus();">确认</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--这里是短信提示弹窗-->

		<div id="modify-money" class="animated dio-close">
			<div class="modify-box">
				<div class="content animated">
					<div class="title">
						<span>发送短信</span>
						<a href="#" class="close" style="font-size: 30px;line-height: 30px;margin-right:10px">&times;</a>
					</div>
					<div class="contain">
						<div class="address">
							<label for="">发送向</label><input type="text" class="form-control sendPhoneInput" />
						</div>
						<div class="address">
							<label for="">短信内容</label><textarea name="" rows="" cols="" class="form-control sendContentInput "></textarea>
						</div>
						<div class="addres-set">
							<div class="box">
								<button class="btn btn-default can-close">取消</button>
								<button class="btn btn-success cof-close" onclick="sendMessage();">确定</button>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>

		<!--这里是通过没通过弹窗-->
		<div id="adopt" class="animated dio-close">
			<div class="adopt-box">
				<div class="content animated">
					<div class="title">
						<a href="#" class="close" style="font-size: 30px;line-height: 30px;margin-right:10px">&times;</a>
					</div>
					<div class="contain">
						<a href="javascript:;">取消</a>
						<a href="javascript:;">确认</a>
					</div>
				</div>
			</div>
		</div>

		<!--这里是头部 -->
		<div id="header"></div>

		<div id="bod-com" class="animated" style="animation-delay: 0.5s; opacity: 0; ">

			<div class="row wrapper border-bottom white-bg page-heading">
				<div class="col-lg-10">
					<ol class="breadcrumb">
						<li>
							<a href="../Member_management/memberList.html">首页</a>
						</li>
						<li>
							<a>未认证会员</a>
						</li>
					</ol>
				</div>
			</div>

			<!--这里是填写资料-->
			<div class="material">
				<div class="material-box">
					<div class="row">
						<div class="col-md-4 col-sm-12">
							<label for="" class="">会员ID:</label>
							<input type="text" class="form-control memberIdInput" />
						</div>
						<div class="col-md-4 col-sm-12">
							<label for="" class="">会员昵称：</label>
							<input type="text" class="form-control nicknameInput" />
						</div>
						<div class="col-md-4 col-sm-12">
							<label for="">会员姓名/手机号：</label>
							<input type="text" class="form-control conditionInput" />
						</div>
					</div>
				</div>
			</div>

			<!--这里是设置-->

			<div class="set" style="padding: 5px 0px;">
				<div class="setbox">
					<div class="set-left">
						<button class="btn btn-xs btn-success creat-add" id="memberStatusBtn">会员状态<span class="fa fa-diamond"></span></button>
						<button class="btn btn-xs btn-success recharge" id="setrechargeStatus">充币状态<span class="fa fa-database"></span></button>
						<button class="btn btn-xs btn-default extract sed" style="background: #13ce66;" id="setWithdrawStatus">提币状态<span class="fa fa-briefcase"></span></button>
						<button class="btn btn-xs btn-default creat-money sed" id="sendMessageBtn"style="background: #13ce66;">短信提醒<span class="fa fa-envelope"></span></button>
						<button class="btn btn-xs btn-info details thrr" onclick="detailsMessage();" id="userInfo">会员信息<span class="fa fa-envelope"></span></button>
					</div>
					<button class="btn btn-xs rest right" type="reset" id="btnRest">重置 <span class="iconfont icon-11zhongzhi"></span></button>
					<button class="btn btn-xs search right" id="btnSearch" onclick="conditionMember();">查询  <span class="iconfont icon-sousuo"></span></button>
				</div>
			</div>
				<div class="wrapper wrapper-content  animated fadeInRight" style="background:#fff">
				<div class="row">
					<div class="col-lg-12 col-md-12">
						<div class="ibox float-e-margins">
							<div class="wrapper-content" style="height:500px;overflow-y: scroll;">
								<table class="table table-striped table-bordered table-hover " id="editable">
									<input type="hidden" id="total" />
									<input type="hidden" id="page" />
									<input type="hidden" id="rows" />
									<thead>
										<tr>
											<th class="">
												<div class="checkbox"><input type="checkbox" id="allcheck" class="" /><label for="allchek"></label> </div>
											</th>
											<th class=''>ID</th>
											<th class=''>昵称</th>
											<th class=''>姓名</th>
											<th class=''>手机号</th>
											<th class=''>会员等级</th>
											<th class=''>身份证号</th>
											<th class=''>是否为代理</th>
											<th class=''>会员状态</th>
											<th class=''>充币状态</th>
											<th class=''>提币状态</th>
											<th class=''>邮箱</th>
											<th class=''>更新时间</th>
										</tr>
									</thead>
									<tbody>
									</tbody>
								</table>
							</div>
							<!--这里是分页-->
							<div class="pagss">			
								<div class="right">
									<div id="pageToolbar"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			
				</div>
				</div>
		</div>

		<!-- Mainly scripts -->
		<script src="../../js/jquery-2.1.1.js"></script>
		<script src="http://gosspublic.alicdn.com/aliyun-oss-sdk-4.4.4.min.js"></script>
		<script src="../../js/bootstrap.min.js"></script>
		<script src="../../js/plugins/metisMenu/jquery.metisMenu.js"></script>
		<script src="../../js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
		<!-- Peity -->
		<script src="../../js/plugins/peity/jquery.peity.min.js"></script>
		<script src="../../js/inspinia.js"></script>
		<script src="../../js/plugins/pace/pace.min.js"></script>
		<script src="../../js/plugins/jquery-ui/jquery-ui.min.js"></script>
		<script src="../../js/chosen.jquery.js"></script>
		<script src="../../js/paging.js"></script>
		<script src="../../js/message.js"></script>
		<script src="../../js/headercom.js"></script>
		<script src="../../js/common.js"></script>
		<script type="text/javascript" src="../../js/jquery.qrcode.min.js"></script>
		<script type="text/javascript" src="../../js/GlobalData.js"></script>

		<script>
			//当前登陆用户ID
			var adminUser = GlobalData.getUerInfo();
			if(adminUser == null || adminUser.id == null || adminUser.id == "") {
				location.href = "../../login.html";
			};
			
			if(adminUser.permissionList.indexOf("urMemberListQuery")!= -1){
				$("#btnRest").show();
				$("#btnSearch").show();
				$(".material").show();
			}else{
				$("#btnRest").hide();
				$("#btnSearch").hide();
				$(".material").hide();
				$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">您没有权限访问这个页面</div></div>');
			};
			if(adminUser.permissionList.indexOf("urBatchSetMemmerStatus")!= -1){
				$("#memberStatusBtn").show();
			}else{
				$("#memberStatusBtn").hide();
			};
			if(adminUser.permissionList.indexOf("urBatchSetRechargeStatus")!= -1){
				$("#setrechargeStatus").show();
			}else{
				$("#setrechargeStatus").hide();
			};
			if(adminUser.permissionList.indexOf("urBatchSetWithdrawStatus")!= -1){
				$("#setWithdrawStatus").show();
			}else{
				$("#setWithdrawStatus").hide();
			};
			if(adminUser.permissionList.indexOf("urMessageRemind")!= -1){
				$("#sendMessageBtn").show();
			}else{
				$("#sendMessageBtn").hide();
			};
			if(adminUser.permissionList.indexOf("urDetailInfo")!= -1){
				$("#userInfo").show();
			}else{
				$("#userInfo").hide();
			};
			
			var bauId = adminUser.id;
			//存储对象的map
			var objectMap ={};
			$(document).ready(function() {
				getAdminUserAll(1, 10);
				setTimeout(function() {
					$("#side-menu>li").eq(1).addClass("active")
					$("#side-menu>li").eq(1).find("ul").addClass("in")
					$("#side-menu li .memberList").addClass("active")
					$("#side-menu li").eq(5).find("ul a").eq(1).addClass("active")
				}, 2000)

				$(function() {
					$('.dept_select').chosen();
				});

				//这里是点击全选按钮选择
				$("#allcheck").click(function() {

					if($(this).is(':checked')) {
						$(".wrapper-content table .item-check").prop("checked", "true")
					} else {
						$(".wrapper-content table .item-check").prop("checked", "")

					}
				})

				$(".set .setbox .creat-add").click(function(evt) {
					$("#changeMemeberStatus").html("");
					var res=$("input[type='checkbox'][class='item-check']:checked");
					if(res==null||res.length<1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请至少选择一个</div></div>');
					}else if(res.length>1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">不能选择多个</div></div>');					
					}else{
						evt.stopPropagation()
						
						$("#sitch").css("display", "block");
		
						$("#sitch").addClass("fadeIn");
						$("#sitch .content").addClass("zoomInDown");
						var obiect=objectMap[res[0].value];
						if(obiect.memberStatus===""||obiect.memberStatus==null){
							$("#changeMemeberStatus").html("");
						}else if(obiect.memberStatus==0){
							$("#changeMemeberStatus").html("启用");
						}else{
							$("#changeMemeberStatus").html("禁用");
						}
					}
				})
				$(".set .setbox .recharge").click(function(evt) {
					$("#changeRechargeStatus").html("");
					var res=$("input[type='checkbox'][class='item-check']:checked");
					if(res==null||res.length<1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请至少选择一个</div></div>');
					}else if(res.length>1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">不能选择多个</div></div>');					
					}else{
						evt.stopPropagation()
		
						$("#sitchs").css("display", "block")
		
						$("#sitchs").addClass("fadeIn")
						$("#sitchs .content").addClass("zoomInDown")
						var obiect=objectMap[res[0].value];
						if(obiect.rechargeStatus===""||obiect.rechargeStatus==null){
							$("#changeRechargeStatus").html("");
						}else if(obiect.rechargeStatus==0){
							$("#changeRechargeStatus").html("启用");
						}else{
							$("#changeRechargeStatus").html("禁用");
						}
					}
				})
				$(".set .setbox .extract").click(function(evt) { 
					$("#changeExtractStatus").html("");
					var res=$("input[type='checkbox'][class='item-check']:checked");
					if(res==null||res.length<1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请至少选择一个</div></div>');
					}else if(res.length>1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">不能选择多个</div></div>');					
					}else{
						evt.stopPropagation()
		
						$("#sitchss").css("display", "block")
		
						$("#sitchss").addClass("fadeIn")
						$("#sitchss .content").addClass("zoomInDown")
						var obiect=objectMap[res[0].value];
						if(obiect.withdrawStatus===""||obiect.withdrawStatus==null){
							$("#changeExtractStatus").html("");
						}else if(obiect.withdrawStatus==0){
							$("#changeExtractStatus").html("启用");
						}else{
							$("#changeExtractStatus").html("禁用");
						}
					}
				})
				//这里是短信提醒
				$(".set .setbox .creat-money ").click(function(evt) {
					var res=$("input[type='checkbox'][class='item-check']:checked");
					if(res==null||res.length<1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请至少选择一个</div></div>');
					}else{
						evt.stopPropagation()
	
						$("#modify-money").css("display", "block")
	
						$("#modify-money").addClass("fadeIn")
						$("#modify-money .content").addClass("zoomInDown")
					}
				})

				//重置
				$("#btnRest").click(function(evt) {
					$(".memberIdInput").val("");
					$(".nicknameInput").val("");
					$(".conditionInput").val("");
					getAdminUserAll(1, $("#rows").val());
				});
				//会员信息确认
				$("#sureBtn").click(function(){
					$("input[type='checkbox']").removeAttr('checked');
				})
				//短信提醒
				$("#sendMessageBtn").click(function(evt) {
					$(".sendContentInput").val("");
					var phoneArrs = [];
					var phoneArr = [];

					var res = $("input[type='checkbox'][class='item-check']:checked");
					for(var i = 0;i<res.length;i++){
						phoneArrs.push(objectMap[res[i].value]);
						phoneArr.push(phoneArrs[i].phone)
					}					
					$(".sendPhoneInput").val(phoneArr.join(","));
				});
			});

			var p = new Paging();
			p.init({
				target: '#pageToolbar',
				pagesize: 10,
				count: $('#total').val(),
				toolbar: true,
				hash: true,
				callback: function(page, size, count) {
					getAdminUserAll(page, $("#rows").val());
				},
				go: function(p) {
					getAdminUserAll(p, $("#rows").val());
				},
				changePagesize: function(ps) {
					getAdminUserAll($("#page").val(), ps);
				}
			});

			//获取所有的未认证会员用户
			function getAdminUserAll(page, rows) {
				var data = {
					"page": page == null || page == "" ? 1 : page,
					"rows": rows == null || rows == "" ? 10 : rows,
					"realNameStatus": 0,
					"id": $(".memberIdInput").val(),
					"nickname": $(".nicknameInput").val(),
					"condition": $(".conditionInput").val(),
					"bauId": bauId
				};
				$.ajax({
					type: 'POST',
					async: false,
					url: GlobalData.APPUSER_URL+"appuser/usersByParams",
					data: JSON.stringify(data),
					contentType: "application/json",
					dataType: 'json',
					success: function(data) {
						console.log(data);
						$("tbody tr").remove();
						if(data.code == "200") {

							
							var rdo = data.data && data.data.objectList || [];
							for(var i = 0; i < rdo.length; i++) {
								var creatTr = $("<tr><td><div class='checkbox'><input type='checkbox' class='item-check' value="+rdo[i].id +" /><label for='allchek1'></label> </div></td></tr>");
								var creatTdf = "<td class='tst'>" + rdo[i].id + "</td><td class='tst'>" + GlobalUtils.changeBlank(rdo[i].nickname) + "</td><td class='tst'>" + GlobalUtils.changeBlank(rdo[i].name) + "</td><td class='tst'>" + GlobalUtils.changeBlank(rdo[i].phone) + "</td>";
								var creatTdc = "<td class='tst'>" + rdo[i].membershipLevel + "</td><td class='tst'>" + GlobalUtils.changeBlank(rdo[i].idCard) + "</td><td class='tst'>" 
								+ (rdo[i].agentStatus!=null&&rdo[i].agentStatus==0?"否":rdo[i].agentStatus!=null&&rdo[i].agentStatus==1?"是":"") + "</td>";
								var creatTdl = "<td class='tst'>" + (rdo[i].memberStatus!=null&&rdo[i].memberStatus==0?"禁用":rdo[i].memberStatus!=null&&rdo[i].memberStatus==1?"正常":"")
								+ "</td><td class='tst'>" + (rdo[i].rechargeStatus!=null&&rdo[i].rechargeStatus==0?"禁用":rdo[i].rechargeStatus!=null&&rdo[i].rechargeStatus==1?"正常":"") + 
								"</td><td class='tst'>" + (rdo[i].withdrawStatus!=null&&rdo[i].withdrawStatus==0?"禁用":rdo[i].withdrawStatus!=null&&rdo[i].withdrawStatus==1?"正常":"")  + "</td>";
								var creatTdb = "<td class='tst'>" + GlobalUtils.changeBlank(rdo[i].mailbox) + "</td><td class='tst'>" + GlobalUtils.getTimeFull(rdo[i].updateTime,"-") + "</td>";
								$(creatTdf + creatTdc + creatTdl + creatTdb).appendTo(creatTr);
								$("tbody").append(creatTr);
								objectMap[rdo[i].id] = rdo[i];
							};

							$('#page').val(page == null || page == "" ? 1 : page);
							$('#total').val(data.data.total);
							$('#rows').val(rows == null || rows == "" ? 10 : rows);

							//重新渲染分页使用render
							p.render({
								count: $('#total').val(),
								pagesize: rows,
								current: page
							});

						}else{
							$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">'+data.message+'</div></div>');
						}
					},
					error: function(e) {
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请求错误</div></div>');				
					}
				});
			};
			//查询
			function conditionMember() {
				getAdminUserAll(1, $("#rows").val());

				
			}
			//停用或者启用用户
			function setMemberStatus() {
				var id = $('input[type=checkbox]:checked').parent().parent().next().text();
				var res=$("input[type='checkbox'][class='item-check']:checked");
				var obiect=objectMap[res[0].value];
				var memberStatus = obiect.memberStatus;
				if(memberStatus == 1) {
					memberStatus = 0;
				} else {
					memberStatus = 1;
				}
				var data = {
					"bauId": bauId,
					"ids": id,
					"memberStatus": memberStatus
				};
				$.ajax({
					type: 'POST',
					url: GlobalData.APPUSER_URL+"appuser/editmemberstatus",
					data: JSON.stringify(data),
					contentType: "application/json",
					dataType: 'json',
					success: function(data) {
						console.log(data);
						if(data.code == "200") {
							getAdminUserAll(1, $("#rows").val());
							$("body").append('<div class="tips win slideInDowns"><i class="iconfont icon-chenggong"></i><div class="tip_text warm-box">修改成功</div></div>');
							
						} else {
							$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">'+data.message+'</div></div>');
						}
					},
					error: function(e) {
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请求错误</div></div>');
						
					}
				});
			}
			//停用或者启用用户充币状态
			function setReChargeStatus() {
				var ids = $('input[type=checkbox]:checked').parent().parent().next().text();
				var res=$("input[type='checkbox'][class='item-check']:checked");
				var obiect=objectMap[res[0].value];
				var rechargeStatus = obiect.rechargeStatus;
				if(rechargeStatus == 1) {
					rechargeStatus = 0;
				} else {
					rechargeStatus = 1;
				}
				var data = {
					"bauId": bauId,
					"ids": ids,
					"rechargeStatus": rechargeStatus
				};
				$.ajax({
					type: 'POST',
					url:GlobalData.APPUSER_URL+"appuser/editrechargestatus",
					data: JSON.stringify(data),
					contentType: "application/json",
					dataType: 'json',
					success: function(data) {
						console.log(data);
						if(data.code == "200") {
							getAdminUserAll(1, $("#rows").val());
							$("body").append('<div class="tips win slideInDowns"><i class="iconfont icon-chenggong"></i><div class="tip_text warm-box">修改成功</div></div>');
							
						} else {
							$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">'+data.message+'</div></div>');
						}
					},
					error: function(e) {
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请求错误</div></div>');
				
					}
				});
			}
			//	停用或启用用户提币状态
			function setReExtractStatus() {
				var ids = $('input[type=checkbox]:checked').parent().parent().next().text();
				var res=$("input[type='checkbox'][class='item-check']:checked");
				var obiect=objectMap[res[0].value];
				var withdrawStatus = obiect.withdrawStatus;
				if(withdrawStatus == 1) {
					withdrawStatus = 0;
				} else {
					withdrawStatus = 1;
				}
				var data = {
					"bauId": bauId,
					"ids": ids,
					"withdrawStatus": withdrawStatus
				};
				$.ajax({
					type: 'POST',
					url: GlobalData.APPUSER_URL+"appuser/editwithdrawstatus",
					data: JSON.stringify(data),
					contentType: "application/json",
					dataType: 'json',
					success: function(data) {
						console.log(data);
						if(data.code == "200") {
							getAdminUserAll(1, $("#rows").val());
														$("body").append('<div class="tips win slideInDowns"><i class="iconfont icon-chenggong"></i><div class="tip_text warm-box">修改成功</div></div>');
						} else {
							$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">'+data.message+'</div></div>');
						}
					},
					error: function(e) {
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请求错误</div></div>');
						
					}
				});
			}
			//短信提醒
			function sendMessage() {
				var content = $(".sendContentInput").val();
				var phones = $(".sendPhoneInput").val();
				if(content==null||content==""||content.length<1){
					$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">短信内容不能为空</div></div>');
				}else{
					var data = {
						"content": content,
						"phones": phones,
					};
					$.ajax({
						type: 'POST',
						url:GlobalData.ADMIN_URL+ "adminuser/sendmessage",
						data: JSON.stringify(data),
						contentType: "application/json",
						dataType: 'json',
						success: function(data) {
							console.log(data);
							if(data.code == "200") {
								$("body").append('<div class="tips win slideInDowns"><i class="iconfont icon-chenggong"></i><div class="tip_text warm-box">短信发送成功</div></div>');						
								$("input[type='checkbox']").removeAttr('checked');
								
							} else {
								$("input[type='checkbox']").removeAttr('checked');
								$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">'+data.message+'</div></div>');
	
							}
						},
						error: function(e) {
							$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请求错误</div></div>');
							$("input[type='checkbox']").removeAttr('checked');
						}
					});
				}
			};
			//显示会员详情
			function detailsMessage() {
				var res=$("input[type='checkbox'][class='item-check']:checked");
					if(res==null||res.length<1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请至少选择一个</div></div>');
					}else if(res.length>1){
						$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">不能选择多个</div></div>');					
					}else{
						$("#fictitious").css("display", "block");
		
						$("#fictitious").addClass("fadeIn");
						$("#fictitious .content").addClass("zoomInDown");
						
						var id = $('input[type=checkbox]:checked').parent().parent().next().text();
						var data = {
							"bauId": bauId,
							"id":id
						};
						$.ajax({
							type: 'POST',
							url:GlobalData.APPUSER_URL+"appuser/usersByParams",
							data: JSON.stringify(data),
							contentType: "application/json",
							dataType: 'json',
							success: function(data) {
								console.log(data);
								if(data.code == "200") {
									$("body").append('<div class="tips win slideInDowns"><i class="iconfont icon-chenggong"></i><div class="tip_text warm-box">获取会员信息成功</div></div>');
									$(".item span").empty();
									var rdo = data.data.objectList[0];
									
									$("#nicknameText").text(GlobalUtils.changeBlank(rdo.nickname));
									$("#nameText").text(GlobalUtils.changeBlank(rdo.name));
									$("#img_4").attr("src",GlobalUtils.changeBlank(rdo.avatar));
									$("#phoneText").text(GlobalUtils.changeBlank(rdo.phone));
									$("#membershipLevelText").text(rdo.membershipLevel);
									$("#idCardText").text(GlobalUtils.changeBlank(rdo.idCard));
									$("#img_1").attr("src",GlobalUtils.changeBlank(rdo.idCardPositive)); 
									$("#img_2").attr("src",GlobalUtils.changeBlank(rdo.idCardBack));
									$("#img_3").attr("src",GlobalUtils.changeBlank(rdo.handheldIdCard));
									$("#agentStatusText").text((rdo.agentStatus!=null&&rdo.agentStatus==0?"否":rdo.agentStatus!=null&&rdo.agentStatus==1?"是":""));
									$("#realNameStatusText").text(rdo.realNameStatus!=null&&rdo.realNameStatus==0?"未认证":rdo.realNameStatus!=null&&rdo.realNameStatus==1?"已认证":rdo.realNameStatus!=null&&rdo.realNameStatus==2?"审核中":"");
									$("#googleStatusText").text(rdo.googleStatus!=null&&rdo.googleStatus==0?"未认证":rdo.googleStatus!=null&&rdo.googleStatus==1?"已认证":"");
									$("#bindBankCardStatusText").text(rdo.bindBankCardStatus!=null&&rdo.bindBankCardStatus==0?"未绑定":rdo.bindBankCardStatus!=null&&rdo.bindBankCardStatus==1?"已绑定":"");
								    $("#memberStatusText").text(rdo.memberStatus!=null&&rdo.memberStatus==0?"禁用":rdo.memberStatus!=null&&rdo.memberStatus==1?"正常":"");
									$("#rechargeStatusText").text(rdo.rechargeStatus!=null&&rdo.rechargeStatus==0?"禁用":rdo.rechargeStatus!=null&&rdo.rechargeStatus==1?"正常":"");
									$("#withdrawStatusText").text(rdo.withdrawStatus!=null&&rdo.withdrawStatus==0?"禁用":rdo.withdrawStatus!=null&&rdo.withdrawStatus==1?"正常":"");
									$("#fundsStatusText").text(rdo.fundsStatus!=null&&rdo.fundsStatus==0?"未绑定":rdo.fundsStatus!=null&&rdo.fundsStatus==1?"已绑定":"");
									$("#mailboxText").text(GlobalUtils.changeBlank(rdo.mailbox));
									$("#createTimeText").text(GlobalUtils.getTimeFull(rdo.createTime,"-"));
									$("#updateTimeText").text(GlobalUtils.getTimeFull(rdo.updateTime,"-"));
							    }else{
							    	$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">'+data.message+'</div></div>');
							    	$("input[type='checkbox']").removeAttr('checked');
							    }
							},
		
							error: function(e) {
								$("body").append('<div class="tips error slideInDowns"><i class="iconfont icon-zhifushibai"></i><div class="tip_text warm-box">请求错误</div></div>');				
								$("input[type='checkbox']").removeAttr('checked');
		
								console.log(e);
							}
						});
					}
			};

		</script>
	</body>

</html>